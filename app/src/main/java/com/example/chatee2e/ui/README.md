# Пакет: com.example.chatee2e.ui

Даний пакет реалізує рівень представлення (Presentation Layer) застосунку. Архітектура базується на патерні **MVVM** (Model-View-ViewModel) та сучасному декларативному фреймворку **Jetpack Compose**. Основна мета цього шару — візуалізація даних, отриманих із доменного рівня, та обробка дій користувача.

## Загальна структура та принципи

Весь інтерфейс побудований на принципах односпрямованого потоку даних (Unidirectional Data Flow):
1. **ViewModel** керує станом екрана (State) та обробляє події (Events).
2. **Screen (Composable)** підписується на стан і відображає актуальний інтерфейс.


---

## 1. Авторизація (ui.auth)
Пакет відповідає за вхід у систему та реєстрацію нових користувачів.
* **AuthScreen.kt**: Містить форми введення даних (email, пароль, username). Реалізує перемикання між режимами входу та реєстрації.
* **AuthViewModel.kt**: Взаємодіє з `AuthRepository`. Керує станом валідації полів, відображенням індикаторів завантаження та обробкою помилок автентифікації.

## 2. Список чатів (ui.chat_list)
Головний екран застосунку після авторизації.
* **ChatListScreen.kt**: Відображає список активних діалогів користувача. Включає елементи швидкого доступу до пошуку та створення груп.
* **ChatListViewModel.kt**: Отримує потік чатів із `ChatRepository`. Відповідає за ініціалізацію з'єднання з сервером (`connect()`) та оновлення метаданих (останнє повідомлення, час).

## 3. Екран повідомлень (ui.chat)
Центральний модуль для ведення захищеного листування.
* **MessageScreen.kt**: Реалізує відображення історії повідомлень у форматі "баблів" (bubbles). Містить поле введення тексту та логіку автоматичної прокрутки до нових повідомлень.
* **MessageViewModel.kt**: Найбільш критичний компонент UI-шару. Координує процес отримання повідомлень через `MessageRepository`. Забезпечує реактивне оновлення чату при дешифруванні нових вхідних пакетів.

## 4. Пошук та контакти (ui.search)
* **SearchScreen.kt**: Інтерфейс для пошуку користувачів за адресою електронної пошти.
* **SearchViewModel.kt**: Реалізує логіку запитів до бази даних користувачів та обробку результатів пошуку. Дозволяє ініціювати створення нових прямих чатів (Direct Chats).

## 5. Створення груп (ui.create_group)
* **CreateGroupScreen.kt**: Екран вибору учасників та встановлення назви для групового чату.
* **CreateGroupViewModel.kt**: Формує список вибраних користувачів та викликає бізнес-логіку створення групової сутності з розсилкою запрошень.

## 6. Навігація (ui.navigation)
Центральний механізм перемикання між екранами.
* **Navigation.kt**: Описує `NavHost` — граф навігації застосунку. Визначає маршрути (routes) та передає необхідні аргументи (наприклад, `chatId`) між екранами.
* **Screen.kt**: Sealed-клас або об'єкт, що містить константи маршрутів, забезпечуючи типізовану та безпечну навігацію.

## 7. Візуальне оформлення (ui.theme)
* Містить конфігурації **Material Design 3**: колірні палітри (Dark/Light modes), типографіку та форми компонентів, що забезпечує єдиний візуальний стиль у всьому застосунку.


