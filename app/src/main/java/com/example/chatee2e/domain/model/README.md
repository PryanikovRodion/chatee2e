# Пакет: com.example.chatee2e.domain.model

Даний пакет містить доменні моделі, які є фундаментом бізнес-логіки застосунку. Згідно з принципами **Clean Architecture**, ці класи є незалежними від будь-яких зовнішніх бібліотек, фреймворків (Firebase, Room) чи деталей реалізації шару даних. Вони представляють сутності, якими оперують варіанти використання (Use Cases) та інтерфейс користувача.

## Основні доменні моделі

### 1. User
Представляє користувача системи як учасника комунікації.
* **id**: Унікальний ідентифікатор користувача.
* **username**: Публічне ім'я користувача для відображення в інтерфейсі.
* **email**: Електронна адреса, що використовується для автентифікації та пошуку контактів.

### 2. Chat
Описує сутність діалогу або групи.
* **id**: Унікальний ідентифікатор чату (може бути `null` до моменту створення в мережевому сховищі).
* **name**: Назва чату (актуально для групових обговорень).
* **ownerId**: Ідентифікатор творця чату, що використовується для перевірки прав адміністратора (наприклад, при додаванні нових учасників).
* **isGroup**: Логічний прапорець, що розмежовує персональні діалоги та групові чати.
* **participants**: Список об'єктів `User`, що є учасниками даного чату.
* **lastMessageText / lastMessageTime**: Поля для оперативного відображення стану останньої активності в чаті.

### 3. Message
Представляє одиницю обміну інформацією в системі.
* **id**: Унікальний ідентифікатор повідомлення.
* **chatId**: Посилання на чат, до якого належить повідомлення.
* **senderId / senderName**: Інформація про відправника.
* **text**: Дешифрований вміст повідомлення у відкритому вигляді.
* **timestamp**: Часова мітка створення повідомлення (тип `java.util.Date`).
* **isMine**: Логічний прапорець, що вказує, чи було це повідомлення відправлене поточним користувачем (використовується для візуального групування в UI).

## Технічні особливості та роль у системі

1.  **Чистота моделей**: У моделях відсутні анотації кшталт `@Entity` (Room) або `@PropertyName` (Firestore). Це гарантує, що зміни в структурі бази даних або мережевих протоколів не вплинуть на код бізнес-логіки, доки дані можуть бути успішно трансформовані через мапери.
2.  **Типізація часу**: На відміну від шару `data`, де час часто зберігається як `Long`, доменні моделі використовують об'єкт `java.util.Date`. Це спрощує форматування дат в UI та проведення часових обчислень у доменному шарі.
3.  **Використання в Presentation Layer**: Ці моделі є основними об'єктами, які отримує інтерфейс через `ViewModel`. Вони спроектовані так, щоб бути максимально зручними для відображення в списках та діалогах без додаткової обробки.

## Процеси трансформації
Дані потрапляють у ці моделі виключно через функції-мапери з пакета `data.mapper`. У випадку повідомлень, об'єкт `Message` створюється лише після успішного дешифрування за допомогою `CryptoManager`. Таким чином, на рівні `domain.model` дані завжди є цілісними та готовими до представлення користувачу.